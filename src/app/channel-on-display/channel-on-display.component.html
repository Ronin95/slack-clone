<div class="outer-container">
  <mat-toolbar class="header header-height border">
    <mat-icon style="color: white">tag</mat-icon>
    <h2>{{ channelName }}</h2>
  </mat-toolbar>

  <div class="message-container">
    <div class="msg-card-style" *ngFor="let message of messages | async">
      <mat-card class="message-card">
        <img
          class="message-card-image"
          mat-card-image
          alt="Photo"
          [src]="message.userPhotoURL || 'assets/img/blank-profile-img.png'"
        />
        <div class="message-card-main">
          <mat-card-header class="message-card-main-header">
            <mat-card-title class="message-card-main-header-title">
              <div>
                <span class="author">{{ message.userName }}</span>
                <span class="time-stamp">{{ message.date }}</span>
              </div>
              <div>
                <mat-icon (click)="onDeleteSelectedMessage(message.messageId)"
                  >delete</mat-icon
                >
              </div>
            </mat-card-title>
          </mat-card-header>
          <mat-card-content class="post-container">
            <p class="post" [innerHTML]="sanitizeHtmlWithImageSize(message.message)"></p>
            
            <p class="thread-style" routerLink="thread/{{ message.messageId }}">
              Answer
            </p>
          </mat-card-content>
        </div>
      </mat-card>
    </div>
    <app-threads></app-threads>
  </div>

  <div class="NgxEditor__Wrapper ngx-editor position-relative">
    <ngx-editor-menu
      [editor]="editor"
      [toolbar]="toolbar"
      [customMenuRef]="customMenu"
    ></ngx-editor-menu>
    <ngx-editor 
      [editor]="editor"
      [(ngModel)]="messageText"
      [disabled]="false"
      [placeholder]="'Insert your message...'"
    ></ngx-editor>
    <button class="editor-btn" mat-icon-button (click)="sendMessage()">
      <mat-icon>send</mat-icon>
    </button>
  </div>
  <input
  id="fileInput"
  type="file"
  style="display: none"
  (change)="channelService.onFileChange($event)"
/>
  <ng-template #customMenu>
    <app-custom-menu [editor]="editor"></app-custom-menu>
  </ng-template>
</div>
